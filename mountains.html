<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <title>100 Peaks Badge Collection - WOC</title>
    <link rel="stylesheet" href="style.css">
    <style>
        /* åœ°æ–¹ã”ã¨ã®ã‚»ã‚¯ã‚·ãƒ§ãƒ³ */
        .region-section { margin-bottom: 3rem; text-align: left; }
        .region-title { background: var(--primary); color: white; padding: 0.5rem 1rem; border-radius: 5px; display: inline-block; margin-bottom: 1.5rem; }

        /* ãƒãƒƒã‚¸é¢¨ã®ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ */
        .mountain-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(100px, 1fr)); gap: 1.5rem; }
        
        .mt-badge {
            width: 80px; height: 80px; margin: 0 auto;
            border-radius: 50%; background: #e0e0e0;
            border: 4px solid #bbb; display: flex; flex-direction: column;
            justify-content: center; align-items: center;
            font-size: 0.7rem; color: #999; position: relative;
            transition: 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            cursor: pointer; box-shadow: inset 0 2px 5px rgba(0,0,0,0.1);
        }

        /* ç™»é ‚æ¸ˆã¿ãƒãƒƒã‚¸ã®ãƒ‡ã‚¶ã‚¤ãƒ³ï¼ˆãƒã‚±ãƒ¢ãƒ³ã®ã‚¸ãƒ ãƒãƒƒã‚¸é¢¨ï¼ï¼‰ */
        .mt-badge.climbed {
            background: linear-gradient(135deg, #fff3e0, var(--accent));
            border: 4px solid #d4af37; /* é‡‘æ  */
            color: #5d4037; font-weight: bold;
            box-shadow: 0 5px 15px rgba(242, 140, 40, 0.4), inset 0 -2px 5px rgba(0,0,0,0.2);
            transform: scale(1.1);
        }
        .mt-badge.climbed::after {
            content: "ğŸš©"; position: absolute; top: -10px; right: -10px; font-size: 1.2rem;
        }

        .mt-name { font-size: 0.8rem; margin-top: 0.5rem; font-weight: bold; display: block; color: var(--text); }

        /* ç®¡ç†ç”¨ãƒ‘ãƒãƒ«ï¼ˆç¨œå¹³ã•ã‚“å°‚ç”¨ï¼‰ */
        #admin-panel { background: #f0f0f0; padding: 1rem; margin-top: 4rem; border-radius: 10px; border: 2px dashed var(--primary); display: none; }
        textarea { width: 100%; height: 100px; font-family: monospace; font-size: 12px; }
    </style>
</head>
<body>
    <header>
        <a href="index.html" class="logo">WOC</a>
        <nav><a href="about.html">About</a><a href="mountains.html">100 Peaks</a><a href="join.html">Join Us</a></nav>
    </header>

    <section>
        <h2>WOCç™¾åå±±ãƒãƒƒã‚¸ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³</h2>
        <p>å±±ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦è©³ç´°ã‚’ç¢ºèªï¼ç›®æŒ‡ã›ã€å…¨åœ°æ–¹åˆ¶è¦‡ï¼</p>
        
        <div id="badge-container"></div>

        <div id="admin-panel">
            <h3>ğŸ› ï¸ å¹¹éƒ¨ç”¨ãƒ‡ãƒ¼ã‚¿æ›´æ–°ãƒ‘ãƒãƒ«</h3>
            <p>â€»ã“ã“ã§ãƒ¡ãƒ³ãƒãƒ¼ã‚’ç·¨é›†ã—ãŸå¾Œã€ä¸‹ã®ã‚³ãƒ¼ãƒ‰ã‚’ã‚³ãƒ”ãƒ¼ã—ã¦ <code>mountains.html</code> ã®ãƒ‡ãƒ¼ã‚¿éƒ¨åˆ†ã‚’ä¸Šæ›¸ãä¿å­˜ã—ã¦ãã ã•ã„ã€‚</p>
            <textarea id="json-output" readonly></textarea>
        </div>
    </section>

    <div id="modal" onclick="closeModal()" style="display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.8); z-index:2000; justify-content:center; align-items:center;">
        <div class="modal-body" onclick="event.stopPropagation()" style="background:white; padding:2rem; border-radius:15px; width:80%; max-width:400px;">
            <h2 id="m-name"></h2>
            <p id="m-alt"></p>
            <div id="m-members-div" style="background:#fff9f0; padding:1rem; border-radius:10px; border:1px solid var(--accent);">
                <strong>ğŸš© ç™»é ‚è€…ãƒªã‚¹ãƒˆ:</strong>
                <p id="m-members" style="margin: 0.5rem 0;"></p>
                <input type="text" id="add-member-input" placeholder="åå‰ã‚’å…¥åŠ›ã—ã¦Enter">
            </div>
        </div>
    </div>

    <script>
        // åœ°æ–¹ã”ã¨ã«ãƒ‡ãƒ¼ã‚¿ã‚’æ•´ç†
        const data = [
            { region: "åŒ—æµ·é“", mountains: [
                { name: "åˆ©å°»å²³", alt: 1721, members: [] }, { name: "ç¾…è‡¼å²³", alt: 1660, members: [] }, { name: "åå‹å²³", alt: 2077, members: [] }
            ]},
            { region: "é–¢æ±ãƒ»ç”²ä¿¡è¶Š", mountains: [
                { name: "ç­‘æ³¢å±±", alt: 877, members: [] }, { name: "å¤§è©è–©å¶º", alt: 2057, members: ["å±±å´ ç¨œå¹³","å‰ç”° èˆªå¤ªéƒ","å±±æœ¬ æ„›æ¢¨","çŒ¿ä¸¸ ä¿®å¤ªæœ—"] }, { name: "å¯Œå£«å±±", alt: 3776, members: ["å±±å´ ç¨œå¹³","å‰ç”° èˆªå¤ªéƒ","å±±æœ¬ æ„›æ¢¨","çŒ¿ä¸¸ ä¿®å¤ªæœ—"] }
            ]},
            // ...ä»–ã®å±±ã‚‚åŒæ§˜ã« region ã”ã¨ã«ã‚°ãƒ«ãƒ¼ãƒ—åŒ–
        ];

        function renderBadges() {
            const container = document.getElementById('badge-container');
            container.innerHTML = '';
            data.forEach(reg => {
                const section = document.createElement('div');
                section.className = 'region-section';
                section.innerHTML = `<h3 class="region-title">${reg.region}</h3>`;
                
                const grid = document.createElement('div');
                grid.className = 'mountain-grid';
                
                reg.mountains.forEach(m => {
                    const badgeWrap = document.createElement('div');
                    badgeWrap.style.textAlign = 'center';
                    
                    const badge = document.createElement('div');
                    badge.className = `mt-badge ${m.members.length > 0 ? 'climbed' : ''}`;
                    badge.innerHTML = `<span>${m.name.substring(0,2)}</span>`;
                    badge.onclick = () => openModal(m);
                    
                    badgeWrap.appendChild(badge);
                    badgeWrap.innerHTML += `<span class="mt-name">${m.name}</span>`;
                    badgeWrap.onclick = () => openModal(m); // åå‰ã‚¯ãƒªãƒƒã‚¯ã§ã‚‚é–‹ã
                    grid.appendChild(badgeWrap);
                });
                section.appendChild(grid);
                container.appendChild(section);
            });
            updateAdminPanel();
        }

        let currentMt = null;
        function openModal(m) {
            currentMt = m;
            document.getElementById('m-name').innerText = m.name;
            document.getElementById('m-alt').innerText = `æ¨™é«˜: ${m.alt}m`;
            document.getElementById('m-members').innerText = m.members.length > 0 ? m.members.join(', ') : "æœªè¸ç ´";
            document.getElementById('modal').style.display = 'flex';
        }

        function closeModal() { document.getElementById('modal').style.display = 'none'; }

        // å…¥åŠ›æ©Ÿèƒ½ï¼ˆæ“¬ä¼¼çš„ãªã‚‚ã®ï¼šã“ã“ã§ã®å¤‰æ›´ã¯ãƒªãƒ­ãƒ¼ãƒ‰ã§æ¶ˆãˆã¾ã™ãŒã€ã‚³ãƒ¼ãƒ‰ç”Ÿæˆã«ä½¿ã„ã¾ã™ï¼‰
        document.getElementById('add-member-input').addEventListener('keypress', function (e) {
            if (e.key === 'Enter') {
                const name = this.value.trim();
                if (name && !currentMt.members.includes(name)) {
                    currentMt.members.push(name);
                    renderBadges();
                    openModal(currentMt);
                    this.value = '';
                }
            }
        });

        function updateAdminPanel() {
            document.getElementById('admin-panel').style.display = 'block';
            document.getElementById('json-output').value = "const data = " + JSON.stringify(data, null, 4) + ";";
        }

        renderBadges();
    </script>
</body>
</html>

